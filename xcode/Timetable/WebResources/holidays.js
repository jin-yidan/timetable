/**
 * Chinese Holidays and 24 Solar Terms (二十四节气)
 * Data for 2024-2030
 */

const CHINESE_HOLIDAYS = {
  // 2024
  "2024-01-01": { holiday: "元旦" },
  "2024-02-10": { holiday: "春节" },
  "2024-02-11": { holiday: "春节" },
  "2024-02-12": { holiday: "春节" },
  "2024-04-04": { holiday: "清明节" },
  "2024-05-01": { holiday: "劳动节" },
  "2024-06-10": { holiday: "端午节" },
  "2024-09-17": { holiday: "中秋节" },
  "2024-10-01": { holiday: "国庆节" },
  "2024-10-02": { holiday: "国庆节" },
  "2024-10-03": { holiday: "国庆节" },

  // 2025
  "2025-01-01": { holiday: "元旦" },
  "2025-01-29": { holiday: "春节" },
  "2025-01-30": { holiday: "春节" },
  "2025-01-31": { holiday: "春节" },
  "2025-04-04": { holiday: "清明节" },
  "2025-05-01": { holiday: "劳动节" },
  "2025-05-31": { holiday: "端午节" },
  "2025-10-01": { holiday: "国庆节" },
  "2025-10-02": { holiday: "国庆节" },
  "2025-10-03": { holiday: "国庆节" },
  "2025-10-06": { holiday: "中秋节" },

  // 2026
  "2026-01-01": { holiday: "元旦" },
  "2026-02-17": { holiday: "春节" },
  "2026-02-18": { holiday: "春节" },
  "2026-02-19": { holiday: "春节" },
  "2026-04-05": { holiday: "清明节" },
  "2026-05-01": { holiday: "劳动节" },
  "2026-06-19": { holiday: "端午节" },
  "2026-09-25": { holiday: "中秋节" },
  "2026-10-01": { holiday: "国庆节" },
  "2026-10-02": { holiday: "国庆节" },
  "2026-10-03": { holiday: "国庆节" },

  // 2027
  "2027-01-01": { holiday: "元旦" },
  "2027-02-06": { holiday: "春节" },
  "2027-02-07": { holiday: "春节" },
  "2027-02-08": { holiday: "春节" },
  "2027-04-05": { holiday: "清明节" },
  "2027-05-01": { holiday: "劳动节" },
  "2027-06-09": { holiday: "端午节" },
  "2027-09-15": { holiday: "中秋节" },
  "2027-10-01": { holiday: "国庆节" },
  "2027-10-02": { holiday: "国庆节" },
  "2027-10-03": { holiday: "国庆节" },

  // 2028
  "2028-01-01": { holiday: "元旦" },
  "2028-01-26": { holiday: "春节" },
  "2028-01-27": { holiday: "春节" },
  "2028-01-28": { holiday: "春节" },
  "2028-04-04": { holiday: "清明节" },
  "2028-05-01": { holiday: "劳动节" },
  "2028-05-28": { holiday: "端午节" },
  "2028-10-01": { holiday: "国庆节" },
  "2028-10-02": { holiday: "国庆节" },
  "2028-10-03": { holiday: "中秋节" },

  // 2029
  "2029-01-01": { holiday: "元旦" },
  "2029-02-13": { holiday: "春节" },
  "2029-02-14": { holiday: "春节" },
  "2029-02-15": { holiday: "春节" },
  "2029-04-04": { holiday: "清明节" },
  "2029-05-01": { holiday: "劳动节" },
  "2029-06-16": { holiday: "端午节" },
  "2029-09-22": { holiday: "中秋节" },
  "2029-10-01": { holiday: "国庆节" },
  "2029-10-02": { holiday: "国庆节" },
  "2029-10-03": { holiday: "国庆节" },

  // 2030
  "2030-01-01": { holiday: "元旦" },
  "2030-02-03": { holiday: "春节" },
  "2030-02-04": { holiday: "春节" },
  "2030-02-05": { holiday: "春节" },
  "2030-04-05": { holiday: "清明节" },
  "2030-05-01": { holiday: "劳动节" },
  "2030-06-05": { holiday: "端午节" },
  "2030-09-12": { holiday: "中秋节" },
  "2030-10-01": { holiday: "国庆节" },
  "2030-10-02": { holiday: "国庆节" },
  "2030-10-03": { holiday: "国庆节" },
};

// 二十四节气 (24 Solar Terms)
const SOLAR_TERMS = {
  // 2024
  "2024-01-06": "小寒",
  "2024-01-20": "大寒",
  "2024-02-04": "立春",
  "2024-02-19": "雨水",
  "2024-03-05": "惊蛰",
  "2024-03-20": "春分",
  "2024-04-04": "清明",
  "2024-04-19": "谷雨",
  "2024-05-05": "立夏",
  "2024-05-20": "小满",
  "2024-06-05": "芒种",
  "2024-06-21": "夏至",
  "2024-07-06": "小暑",
  "2024-07-22": "大暑",
  "2024-08-07": "立秋",
  "2024-08-22": "处暑",
  "2024-09-07": "白露",
  "2024-09-22": "秋分",
  "2024-10-08": "寒露",
  "2024-10-23": "霜降",
  "2024-11-07": "立冬",
  "2024-11-22": "小雪",
  "2024-12-06": "大雪",
  "2024-12-21": "冬至",

  // 2025
  "2025-01-05": "小寒",
  "2025-01-20": "大寒",
  "2025-02-03": "立春",
  "2025-02-18": "雨水",
  "2025-03-05": "惊蛰",
  "2025-03-20": "春分",
  "2025-04-04": "清明",
  "2025-04-20": "谷雨",
  "2025-05-05": "立夏",
  "2025-05-21": "小满",
  "2025-06-05": "芒种",
  "2025-06-21": "夏至",
  "2025-07-07": "小暑",
  "2025-07-22": "大暑",
  "2025-08-07": "立秋",
  "2025-08-23": "处暑",
  "2025-09-07": "白露",
  "2025-09-23": "秋分",
  "2025-10-08": "寒露",
  "2025-10-23": "霜降",
  "2025-11-07": "立冬",
  "2025-11-22": "小雪",
  "2025-12-07": "大雪",
  "2025-12-21": "冬至",

  // 2026
  "2026-01-05": "小寒",
  "2026-01-20": "大寒",
  "2026-02-04": "立春",
  "2026-02-18": "雨水",
  "2026-03-05": "惊蛰",
  "2026-03-20": "春分",
  "2026-04-05": "清明",
  "2026-04-20": "谷雨",
  "2026-05-05": "立夏",
  "2026-05-21": "小满",
  "2026-06-05": "芒种",
  "2026-06-21": "夏至",
  "2026-07-07": "小暑",
  "2026-07-23": "大暑",
  "2026-08-07": "立秋",
  "2026-08-23": "处暑",
  "2026-09-07": "白露",
  "2026-09-23": "秋分",
  "2026-10-08": "寒露",
  "2026-10-23": "霜降",
  "2026-11-07": "立冬",
  "2026-11-22": "小雪",
  "2026-12-07": "大雪",
  "2026-12-22": "冬至",

  // 2027
  "2027-01-05": "小寒",
  "2027-01-20": "大寒",
  "2027-02-04": "立春",
  "2027-02-19": "雨水",
  "2027-03-06": "惊蛰",
  "2027-03-21": "春分",
  "2027-04-05": "清明",
  "2027-04-20": "谷雨",
  "2027-05-06": "立夏",
  "2027-05-21": "小满",
  "2027-06-06": "芒种",
  "2027-06-21": "夏至",
  "2027-07-07": "小暑",
  "2027-07-23": "大暑",
  "2027-08-08": "立秋",
  "2027-08-23": "处暑",
  "2027-09-08": "白露",
  "2027-09-23": "秋分",
  "2027-10-08": "寒露",
  "2027-10-24": "霜降",
  "2027-11-08": "立冬",
  "2027-11-22": "小雪",
  "2027-12-07": "大雪",
  "2027-12-22": "冬至",

  // 2028
  "2028-01-06": "小寒",
  "2028-01-21": "大寒",
  "2028-02-04": "立春",
  "2028-02-19": "雨水",
  "2028-03-05": "惊蛰",
  "2028-03-20": "春分",
  "2028-04-04": "清明",
  "2028-04-19": "谷雨",
  "2028-05-05": "立夏",
  "2028-05-20": "小满",
  "2028-06-05": "芒种",
  "2028-06-21": "夏至",
  "2028-07-06": "小暑",
  "2028-07-22": "大暑",
  "2028-08-07": "立秋",
  "2028-08-22": "处暑",
  "2028-09-07": "白露",
  "2028-09-22": "秋分",
  "2028-10-08": "寒露",
  "2028-10-23": "霜降",
  "2028-11-07": "立冬",
  "2028-11-21": "小雪",
  "2028-12-06": "大雪",
  "2028-12-21": "冬至",

  // 2029
  "2029-01-05": "小寒",
  "2029-01-20": "大寒",
  "2029-02-03": "立春",
  "2029-02-18": "雨水",
  "2029-03-05": "惊蛰",
  "2029-03-20": "春分",
  "2029-04-04": "清明",
  "2029-04-20": "谷雨",
  "2029-05-05": "立夏",
  "2029-05-21": "小满",
  "2029-06-05": "芒种",
  "2029-06-21": "夏至",
  "2029-07-07": "小暑",
  "2029-07-22": "大暑",
  "2029-08-07": "立秋",
  "2029-08-23": "处暑",
  "2029-09-07": "白露",
  "2029-09-23": "秋分",
  "2029-10-08": "寒露",
  "2029-10-23": "霜降",
  "2029-11-07": "立冬",
  "2029-11-22": "小雪",
  "2029-12-07": "大雪",
  "2029-12-21": "冬至",

  // 2030
  "2030-01-05": "小寒",
  "2030-01-20": "大寒",
  "2030-02-04": "立春",
  "2030-02-19": "雨水",
  "2030-03-06": "惊蛰",
  "2030-03-21": "春分",
  "2030-04-05": "清明",
  "2030-04-20": "谷雨",
  "2030-05-06": "立夏",
  "2030-05-21": "小满",
  "2030-06-06": "芒种",
  "2030-06-21": "夏至",
  "2030-07-07": "小暑",
  "2030-07-23": "大暑",
  "2030-08-08": "立秋",
  "2030-08-23": "处暑",
  "2030-09-08": "白露",
  "2030-09-23": "秋分",
  "2030-10-08": "寒露",
  "2030-10-24": "霜降",
  "2030-11-08": "立冬",
  "2030-11-22": "小雪",
  "2030-12-07": "大雪",
  "2030-12-22": "冬至",
};

/**
 * Get holiday and solar term info for a date
 * @param {string} dateStr - Date in YYYY-MM-DD format
 * @returns {{ holiday?: string, solarTerm?: string } | null}
 */
function getDateInfo(dateStr) {
  const holiday = CHINESE_HOLIDAYS[dateStr]?.holiday;
  const solarTerm = SOLAR_TERMS[dateStr];

  if (!holiday && !solarTerm) return null;

  return {
    holiday: holiday || null,
    solarTerm: solarTerm || null
  };
}

/**
 * Format date info as display string
 * @param {string} dateStr - Date in YYYY-MM-DD format
 * @returns {string} Formatted string like "春节 · 立春" or "立春" or ""
 */
function formatDateInfo(dateStr) {
  const info = getDateInfo(dateStr);
  if (!info) return "";

  const parts = [];
  if (info.holiday) parts.push(info.holiday);
  if (info.solarTerm) parts.push(info.solarTerm);

  return parts.join(" · ");
}
